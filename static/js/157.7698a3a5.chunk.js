"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[157],{8866:function(e,r,n){n.d(r,{a:function(){return c}});var t=n(4691),i=n(5602),o=n(184),c=function(){return(0,o.jsx)("span",{className:i.Z.LoaderWrap,children:(0,o.jsx)(t.ko,{height:"140",width:"140",ariaLabel:"progress-bar-loading",wrapperStyle:{},wrapperClass:"progress-bar-wrapper",borderColor:"#F4442E",barColor:"#51E5FF"})})}},3517:function(e,r,n){n.r(r),n.d(r,{default:function(){return p}});var t=n(9439),i=n(7689),o=n(1087),c=n(2791),a="MovieDet_DetalisWrap__n9qQv",s="MovieDet_DescrMovieWrap__zleFr",l="MovieDet_ImgWrap__2ZFr-",h=n(8565),d=n.p+"static/media/no-poster.5e3899f9dc84a1b48522.jpg",u=n(8866),f=n(7180),v=n(184);var p=function(){var e,r,n=(0,i.UO)(),p=n.movieId,j=(0,c.useState)(null),x=(0,t.Z)(j,2),m=x[0],g=x[1],_=(0,c.useState)(!1),w=(0,t.Z)(_,2),b=w[0],k=w[1],M=(0,c.useState)(!1),D=(0,t.Z)(M,2),I=D[0],S=D[1],E=(0,i.TH)(),Z=(0,c.useRef)(null!==(e=null===(r=E.state)||void 0===r?void 0:r.from)&&void 0!==e?e:"/");return(0,c.useEffect)((function(){var e;e=p,k(!0),S(!1),h.Z.getMovieDetalis(e).then((function(e){g(e)})).catch((function(e){console.log(e),S(!0)})).finally((function(){return k(!1)}))}),[p]),b?(0,v.jsx)(u.a,{}):I?(0,v.jsxs)("h3",{children:["\u041d\u0435\u0442 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043f\u043e \u0444\u0438\u043b\u044c\u043c\u0443 \u0441 ID: ",n.movieId]}):m?(0,v.jsxs)("div",{children:[(0,v.jsx)(o.rU,{to:Z.current,children:"go back"}),(0,v.jsxs)("div",{className:a,children:[(0,v.jsx)("div",{className:l,children:(0,v.jsx)("img",{src:m.poster_path?"".concat("https://image.tmdb.org/t/p/w300/").concat(m.poster_path):d,alt:m.title||m.name})}),(0,v.jsxs)("div",{className:s,children:[(0,v.jsx)("h1",{children:m.title||m.name}),(0,v.jsxs)("h4",{children:["User Score: ",Math.round(10*m.vote_average)," %"]}),(0,v.jsx)("h2",{children:"Overview "}),(0,v.jsx)("p",{children:m.overview}),(0,v.jsx)("h3",{children:"Genres"}),(0,v.jsx)("div",{children:m.genres.map((function(e,r){return(0,v.jsxs)("span",{children:[e.name," "]},"".concat(m.id,"-").concat(r))}))})]})]}),(0,v.jsx)("h4",{children:"Addition information"}),(0,v.jsxs)("ul",{children:[(0,v.jsx)("li",{children:(0,v.jsx)(o.rU,{to:"cast",children:"Cast"})}),(0,v.jsx)("li",{children:(0,v.jsx)(o.rU,{to:"review",children:"Review"})})]}),(0,v.jsx)(c.Suspense,{fallback:(0,v.jsx)(f.M,{}),children:(0,v.jsx)(i.j3,{})})]}):void 0}},8565:function(e,r){var n="https://api.themoviedb.org/3",t="api_key=7e2311f4f0ec2e3fb8119bae191edcda";var i={getAllMovies:function(){return fetch("https://api.themoviedb.org/3/trending/all/day?api_key=7e2311f4f0ec2e3fb8119bae191edcda").then((function(e){if(!e.ok)throw new Error("\u041f\u043e\u0439\u043c\u0430\u043b\u0438 \u043e\u0448\u0438\u0431\u043a\u0443 API");return e.json()}))},getMovieDetalis:function(e){var r="".concat(n,"/movie/").concat(e,"?").concat(t);return fetch(r).then((function(e){if(!e.ok)throw new Error("\u041f\u043e\u0439\u043c\u0430\u043b\u0438 \u043e\u0448\u0438\u0431\u043a\u0443 API");return e.json()}))},getSearchMovies:function(e){var r="".concat(n,"/search/movie?query=").concat(e,"&").concat(t);return fetch(r).then((function(e){if(!e.ok)throw new Error("\u041f\u043e\u0439\u043c\u0430\u043b\u0438 \u043e\u0448\u0438\u0431\u043a\u0443 API");return e.json()}))},getSubDetalis:function(e,r){var i="".concat(n,"/movie/").concat(e,"/").concat(r,"?").concat(t);return fetch(i).then((function(e){if(!e.ok)throw new Error("\u041f\u043e\u0439\u043c\u0430\u043b\u0438 \u043e\u0448\u0438\u0431\u043a\u0443 API");return e.json()}))}};r.Z=i}}]);
//# sourceMappingURL=157.7698a3a5.chunk.js.map
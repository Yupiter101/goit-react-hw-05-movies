{"version":3,"file":"static/js/157.a7be2911.chunk.js","mappings":"wMAIaA,EAAS,WACpB,OACE,iBAAMC,UAAWC,EAAAA,EAAAA,WAAjB,UACE,SAAC,KAAD,CACIC,OAAO,MACPC,MAAM,MACNC,UAAU,uBACVC,aAAc,CAAC,EACfC,aAAa,uBACbC,YAAc,UACdC,SAAW,aAIpB,C,gHCjBD,EAA8B,8BAA9B,EAA6E,iCAA7E,EAAwH,0B,+FCmGxH,MAzFA,WAAyB,IAAD,IAGhBC,GAASC,EAAAA,EAAAA,MACTC,EAAiB,UAAYF,EAAOG,QAAU,IAEpD,GAAkCC,EAAAA,EAAAA,UAAS,MAA3C,eAAOC,EAAP,KAAkBC,EAAlB,KACA,GAAmCF,EAAAA,EAAAA,WAAS,GAA5C,eAAOG,EAAP,KAAkBC,EAAlB,KACA,GAA+BJ,EAAAA,EAAAA,WAAS,GAAxC,eAAOK,EAAP,KAAgBC,EAAhB,KAEMC,GAAWC,EAAAA,EAAAA,MACXC,GAAcC,EAAAA,EAAAA,QAAM,oBAACH,EAASI,aAAV,aAAC,EAAgBC,YAAjB,QAAyB,KA4BnD,OAxBAC,EAAAA,EAAAA,YAAU,YAKV,SAA2BjB,GACzBQ,GAAa,GACbE,GAAW,GACXQ,EAAAA,EAAAA,aAAiBlB,GACdmB,MAAK,SAAAC,GACJd,EAAac,EACd,IACAC,OAAM,SAAAC,GACLC,QAAQC,IAAIF,GACZZ,GAAW,EACZ,IACAe,SAAQ,kBAAKjB,GAAa,EAAlB,GACZ,CAhBCkB,CAAkBxB,EACnB,GAAE,CAACA,IAsBDK,GACM,SAACjB,EAAA,EAAD,IAGNmB,GACM,0BAAI,gJAAgCT,EAAOG,WAGhDE,GAKF,4BACE,SAAC,KAAD,CAAMsB,GAAId,EAAYe,QAAtB,SAA+B,aAC/B,iBAAKrC,UAAWC,EAAhB,WACI,gBAAKD,UAAWC,EAAhB,UACE,gBAEEqC,IAAKxB,EAAUyB,YAAV,UAxDE,oCAwDF,OAAwCzB,EAAUyB,aAAgBC,EACvEC,IAAK3B,EAAU4B,OAAS5B,EAAU6B,UAItC,iBAAK3C,UAAWC,EAAhB,WACI,wBAAKa,EAAU4B,OAAS5B,EAAU6B,QAClC,0BAAI,eAAaC,KAAKC,MAA+B,GAAzB/B,EAAUgC,cAAmB,SACzD,wBAAI,eACJ,uBAAIhC,EAAUiC,YACd,wBAAI,YACJ,yBACGjC,EAAUkC,OAAOC,KAAI,SAACC,EAAMC,GAAP,OAAe,4BAAsCD,EAAKP,KAAK,MAAhD,UAAc7B,EAAUsC,GAAxB,YAA8BD,GAA7C,aAKhC,wBAAI,0BAEJ,2BACE,yBAAI,SAAC,KAAD,CAAMf,GAAG,OAAT,SAAgB,YACpB,yBAAI,SAAC,KAAD,CAAMA,GAAG,SAAT,SAAkB,iBAExB,SAAC,EAAAiB,SAAD,CAAUC,UAAU,SAAC,IAAD,IAApB,UACE,SAAC,KAAD,cAnCN,CAwCD,C,qBCpFD,IAAM3B,EAAM,CACV4B,aAXF,SAAsB9C,GAEpB,OAAO+C,MALQ,+BAIO/C,EAHR,4CAIImB,MAAK,SAAA6B,GACrB,IAAIA,EAASC,GACX,MAAM,IAAIC,MAAM,uFAElB,OAAOF,EAASG,MACjB,GACF,GAMD,K","sources":["components/Loader/Loader.js","webpack://goit-react-hw-05-movies/./src/pages/MovieDet.module.css?45c1","pages/MovieDetalis.js","services/moviesApi.js"],"sourcesContent":["\nimport { ProgressBar } from 'react-loader-spinner';\nimport css from \"./Loader.module.css\";\n\nexport const Loader = () => {\n  return (\n    <span className={css.LoaderWrap}>\n      <ProgressBar\n          height=\"140\"\n          width=\"140\"\n          ariaLabel=\"progress-bar-loading\"\n          wrapperStyle={{}}\n          wrapperClass=\"progress-bar-wrapper\"\n          borderColor = '#F4442E'\n          barColor = '#51E5FF'\n      />\n    </span>\n  )\n}","// extracted by mini-css-extract-plugin\nexport default {\"DetalisWrap\":\"MovieDet_DetalisWrap__n9qQv\",\"DescrMovieWrap\":\"MovieDet_DescrMovieWrap__zleFr\",\"ImgWrap\":\"MovieDet_ImgWrap__2ZFr-\"};","import { Link, Outlet, useParams, useLocation } from \"react-router-dom\";\nimport { useState, useEffect, useRef, Suspense } from \"react\";\n\nimport css from \"./MovieDet.module.css\";\nimport Api from \"services/moviesApi\";\nimport noPoster from '../img/no-poster.jpg';\nimport { Loader } from \"components/Loader/Loader\";\nimport { LoaderSerch } from \"components/Loader/LoaderSearch\";\n\n\n\nfunction MovieDetalis() {\n\n  const baseURLImg = 'https://image.tmdb.org/t/p/w300/';\n  const params = useParams();\n  const URLMovieDetali = '/movie/' + params.movieId + '?';\n\n  const [movieInfo, setMovieInfo] = useState(null);\n  const [isLoading, setIsLoading ] = useState(false);\n  const [isError, setIsError ] = useState(false);\n\n  const location = useLocation();\n  const locationRef = useRef(location.state?.from ?? '/');\n  \n\n\n  useEffect(() => {\n    fetchMovieDetalis(URLMovieDetali);\n  }, [URLMovieDetali])\n\n\n  function fetchMovieDetalis(params) {\n    setIsLoading(true);\n    setIsError(false);\n    Api.getMovieData(params)\n      .then(data => {\n        setMovieInfo(data);\n      })\n      .catch(error => {\n        console.log(error);\n        setIsError(true);\n      })\n      .finally(()=> setIsLoading(false));\n  }\n\n  // 114472 noImg\n  // 125988 error\n  // 335977 есть view\n\n\n  if(isLoading) {\n    return <Loader/>\n  }\n\n  if(isError) {\n    return <h3>Нет информации по фильму с ID: {params.movieId}</h3>\n  }\n\n  if(!movieInfo) {\n    return \n  }\n\n  return (\n    <div>\n      <Link to={locationRef.current}>go back</Link>\n      <div className={css.DetalisWrap}>\n          <div className={css.ImgWrap}>\n            <img \n              // src={`${baseURLImg}${movieInfo.poster_path}`} \n              src={movieInfo.poster_path ? `${baseURLImg}${movieInfo.poster_path}` : noPoster} \n              alt={movieInfo.title || movieInfo.name} \n            />\n          </div>\n          \n          <div className={css.DescrMovieWrap}>\n              <h1>{movieInfo.title || movieInfo.name}</h1>\n              <h4>User Score: {Math.round(movieInfo.vote_average * 10)} %</h4>\n              <h2>Overview </h2>\n              <p>{movieInfo.overview}</p>\n              <h3>Genres</h3>\n              <div>\n                {movieInfo.genres.map((genr, idx) => <span key={`${movieInfo.id}-${idx}`}>{genr.name} </span>)}\n              </div>\n          </div>\n      </div>\n      \n      <h4>Addition information</h4>\n  \n      <ul>\n        <li><Link to=\"cast\">Cast</Link></li>\n        <li><Link to=\"review\">Review</Link></li>\n      </ul>\n      <Suspense fallback={<LoaderSerch/>}>\n        <Outlet />\n      </Suspense>\n      \n    </div>\n  );\n}\n\nexport default MovieDetalis;","\nconst baseURL  = 'https://api.themoviedb.org/3';\nconst API_KEY = 'api_key=7e2311f4f0ec2e3fb8119bae191edcda';\n\nfunction getMovieData(params) {\n  const URL = baseURL + params + API_KEY;\n  return fetch(URL).then(response => {\n    if(!response.ok) {\n      throw new Error('Поймали ошибку API');\n    }\n    return response.json();\n  });\n}\n\nconst Api = {\n  getMovieData\n};\n\nexport default Api;\n\n\n\n\n//https://www.themoviedb.org/login\n//Yupiter101\n//lp****1!\n//shv08@.......\n//Ключ API: 7e2311f4f0ec2e3fb8119bae191edcda\n//Токен доступу для читання API:\n// eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI3ZTIzMTFmNGYwZWMyZTNmYjgxMTliYWUxOTFlZGNkYSIsInN1YiI6IjY0OTk1NjVjYjM0NDA5MDBmZmVkMmI5OCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.uc4Bc1HtCJkDX-2TNF5nnn454p4tYRnOB1M62U-25kk\n\n// Here's an example API request:\n// https://api.themoviedb.org/3/movie/550?api_key=7e2311f4f0ec2e3fb8119bae191edcda\n\n// const URLAllMovies = '/trending/all/day?';\n// const URLMovieDetali = '/movie/' + params.movieId + '?';\n// const URLMovieCast = '/movie/'+ params.movieId + '/credits?';\n// const URLMovieReview = '/movie/'+ params.movieId + '/reviews?';\n// const URLMovieSearch = '/search/movie?query=Jack+Reacher&'\n\n// List all\n// URL = 'https://api.themoviedb.org/3 /trending/all/day?   api_key=7e2311f4f0ec2e3fb8119bae191edcda';\n// movie/${id}\n// URL = 'https://api.themoviedb.org/3 /movie/75780?   api_key=7e2311f4f0ec2e3fb8119bae191edcda';\n// movie/${id}/credits\n// URL = 'https://api.themoviedb.org/3 /movie/75780/credits?   api_key=7e2311f4f0ec2e3fb8119bae191edcda'\n// movie/${id}/reviews\n// URL = 'https://api.themoviedb.org/3 /movie/75780/reviews?   api_key=7e2311f4f0ec2e3fb8119bae191edcda';\n// Search\n// URL = 'https://api.themoviedb.org/3 /search/movie?query=Jack+Reacher&   api_key=7e2311f4f0ec2e3fb8119bae191edcda';\n\n"],"names":["Loader","className","css","height","width","ariaLabel","wrapperStyle","wrapperClass","borderColor","barColor","params","useParams","URLMovieDetali","movieId","useState","movieInfo","setMovieInfo","isLoading","setIsLoading","isError","setIsError","location","useLocation","locationRef","useRef","state","from","useEffect","Api","then","data","catch","error","console","log","finally","fetchMovieDetalis","to","current","src","poster_path","noPoster","alt","title","name","Math","round","vote_average","overview","genres","map","genr","idx","id","Suspense","fallback","getMovieData","fetch","response","ok","Error","json"],"sourceRoot":""}
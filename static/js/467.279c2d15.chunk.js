"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[467],{8866:function(e,r,t){t.d(r,{a:function(){return i}});var n=t(4691),a=t(5602),o=t(184),i=function(){return(0,o.jsx)("span",{className:a.Z.LoaderWrap,children:(0,o.jsx)(n.ko,{height:"140",width:"140",ariaLabel:"progress-bar-loading",wrapperStyle:{},wrapperClass:"progress-bar-wrapper",borderColor:"#F4442E",barColor:"#51E5FF"})})}},7665:function(e,r,t){t.d(r,{Z:function(){return h}});var n=t(2007),a=t.n(n),o=t(7689),i=t(1087),c="MoviesList_MovieListItem__RoK4C",s="MoviesList_MovieListLink__8tncu",u=t(184);function l(e){var r=e.movies,t=e.isQueryName,n=(0,o.TH)();return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("ul",{children:r.map((function(e){return(0,u.jsx)("li",{className:c,children:(0,u.jsx)(i.rU,{to:t?"".concat(e.id):"movies/".concat(e.id),state:{from:n},className:s,children:e.title||e.name})},"id-".concat(e.id))}))})})}var h=l;l.propType={isQueryName:a().bool,movies:a().arrayOf(a().shape({id:a().string.isRequired,name:a().string,title:a().string}).isRequired).isRequired}},6467:function(e,r,t){t.r(r),t.d(r,{default:function(){return _}});var n=t(9439),a=t(2791),o=t(1087),i="Searchbar_Searchbar__5WKzV",c="Searchbar_SearchForm__XuPyK",s="Searchbar_SearchFormButton__dksRa",u="Searchbar_Icon__F+OAi",l="Searchbar_SearchFormInput__FT6Bx",h=t(9135),f=t(184);function m(e){var r=e.onSubmit;return(0,f.jsx)("div",{className:i,children:(0,f.jsxs)("form",{className:c,onSubmit:function(e){e.preventDefault();var t=e.currentTarget.elements.queryName.value;""===t.trim()?(console.log("\u041d\u0430\u043f\u0438\u0448\u0438 \u0449\u043e-\u043d\u0435\u0431\u0443\u0434\u044c!"),alert("\u041d\u0430\u043f\u0438\u0448\u0438 \u0449\u043e-\u043d\u0435\u0431\u0443\u0434\u044c!")):(r(t),e.currentTarget.reset())},children:[(0,f.jsx)("input",{className:l,type:"text",name:"queryName",autoComplete:"on",autoFocus:!0,placeholder:"Name movie"}),(0,f.jsx)("button",{type:"submit",className:s,children:(0,f.jsx)(h.U41,{className:u})})]})})}var v=t(8565),d=t(7665),p=t(8866);var _=function(){var e=(0,a.useState)([]),r=(0,n.Z)(e,2),t=r[0],i=r[1],c=(0,a.useState)(!1),s=(0,n.Z)(c,2),u=s[0],l=s[1],h=(0,a.useState)(!1),_=(0,n.Z)(h,2),b=_[0],g=_[1],j=(0,o.lr)(),x=(0,n.Z)(j,2),S=x[0],y=x[1],w=S.get("query");function N(e){""!==e.trim()?y({query:e}):y({})}return(0,a.useEffect)((function(){var e;w&&""!==w&&(e=w,g(!0),l(!1),v.Z.getSearchMovies(e).then((function(e){if(!e.results.length)return l(!0),void console.log("\u041d\u0435\u0442 \u0444\u0438\u043b\u044c\u043c\u043e\u0432 \u0441 \u0442\u0430\u043a\u0438\u043c \u0438\u043c\u0435\u043d\u0435\u043c");i(e.results)})).catch((function(e){return console.log(e)})).finally((function(){return g(!1)})))}),[w]),u?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(m,{onSubmit:N}),(0,f.jsx)("h2",{children:"\u0424\u0438\u043b\u044c\u043c\u043e\u0432 \u0441 \u0442\u0430\u043a\u0438\u043c \u0438\u043c\u0435\u043d\u0435\u043c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e :( "})]}):(0,f.jsxs)("div",{children:[(0,f.jsx)(m,{onSubmit:N}),b?(0,f.jsx)(p.a,{}):(0,f.jsx)(d.Z,{movies:t,isQueryName:!!w})]})}},8565:function(e,r){var t="https://api.themoviedb.org/3",n="api_key=7e2311f4f0ec2e3fb8119bae191edcda";var a={getAllMovies:function(){return fetch("https://api.themoviedb.org/3/trending/all/day?api_key=7e2311f4f0ec2e3fb8119bae191edcda").then((function(e){if(!e.ok)throw new Error("\u041f\u043e\u0439\u043c\u0430\u043b\u0438 \u043e\u0448\u0438\u0431\u043a\u0443 API");return e.json()}))},getMovieDetalis:function(e){var r="".concat(t,"/movie/").concat(e,"?").concat(n);return fetch(r).then((function(e){if(!e.ok)throw new Error("\u041f\u043e\u0439\u043c\u0430\u043b\u0438 \u043e\u0448\u0438\u0431\u043a\u0443 API");return e.json()}))},getSearchMovies:function(e){var r="".concat(t,"/search/movie?query=").concat(e,"&").concat(n);return fetch(r).then((function(e){if(!e.ok)throw new Error("\u041f\u043e\u0439\u043c\u0430\u043b\u0438 \u043e\u0448\u0438\u0431\u043a\u0443 API");return e.json()}))},getSubDetalis:function(e,r){var a="".concat(t,"/movie/").concat(e,"/").concat(r,"?").concat(n);return fetch(a).then((function(e){if(!e.ok)throw new Error("\u041f\u043e\u0439\u043c\u0430\u043b\u0438 \u043e\u0448\u0438\u0431\u043a\u0443 API");return e.json()}))}};r.Z=a}}]);
//# sourceMappingURL=467.279c2d15.chunk.js.map
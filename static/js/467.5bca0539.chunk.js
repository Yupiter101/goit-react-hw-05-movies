"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[467],{866:function(e,r,t){t.d(r,{a:function(){return i}});var a=t(691),n=t(602),o=t(184),i=function(){return(0,o.jsx)("span",{className:n.Z.LoaderWrap,children:(0,o.jsx)(a.ko,{height:"140",width:"140",ariaLabel:"progress-bar-loading",wrapperStyle:{},wrapperClass:"progress-bar-wrapper",borderColor:"#F4442E",barColor:"#51E5FF"})})}},665:function(e,r,t){t.d(r,{Z:function(){return c}});var a=t(689),n=t(87),o="MoviesList_MovieListItem__RoK4C",i="MoviesList_MovieListLink__8tncu",s=t(184);var c=function(e){var r=e.movieId,t=e.movieTitle,c=e.isQueryName,u=(0,a.TH)();return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("li",{className:o,children:(0,s.jsxs)(n.rU,{to:c?"".concat(r):"movies/".concat(r),state:{from:u},className:i,children:[r," ",t]})})})}},467:function(e,r,t){t.r(r),t.d(r,{default:function(){return p}});var a=t(439),n=t(791),o=t(87),i="Searchbar_Searchbar__5WKzV",s="Searchbar_SearchForm__XuPyK",c="Searchbar_SearchFormButton__dksRa",u="Searchbar_Icon__F+OAi",l="Searchbar_SearchFormInput__FT6Bx",m=t(135),h=t(184);function f(e){var r=e.onSubmit;return(0,h.jsx)("div",{className:i,children:(0,h.jsxs)("form",{className:s,onSubmit:function(e){e.preventDefault();var t=e.currentTarget.elements.queryName.value;""===t.trim()?(console.log("\u041d\u0430\u043f\u0438\u0448\u0438 \u0449\u043e-\u043d\u0435\u0431\u0443\u0434\u044c!"),alert("\u041d\u0430\u043f\u0438\u0448\u0438 \u0449\u043e-\u043d\u0435\u0431\u0443\u0434\u044c!")):(r(t),e.currentTarget.reset())},children:[(0,h.jsx)("input",{className:l,type:"text",name:"queryName",autoComplete:"on",autoFocus:!0,placeholder:"Name movie"}),(0,h.jsx)("button",{type:"submit",className:c,children:(0,h.jsx)(m.U41,{className:u})})]})})}var v=t(565),d=t(665),_=t(866);var p=function(){var e=(0,n.useState)([]),r=(0,a.Z)(e,2),t=r[0],i=r[1],s=(0,n.useState)(!1),c=(0,a.Z)(s,2),u=c[0],l=c[1],m=(0,n.useState)(!1),p=(0,a.Z)(m,2),b=p[0],x=p[1],j=(0,o.lr)(),g=(0,a.Z)(j,2),S=g[0],y=g[1],N=S.get("query");function F(e){""!==e.trim()?y({query:e}):y({})}return(0,n.useEffect)((function(){var e;N&&""!==N&&(e="/search/movie?query="+N+"&",x(!0),l(!1),v.Z.getMovieData(e).then((function(e){if(!e.results.length)return l(!0),void console.log("\u041d\u0435\u0442 \u0444\u0438\u043b\u044c\u043c\u043e\u0432 \u0441 \u0442\u0430\u043a\u0438\u043c \u0438\u043c\u0435\u043d\u0435\u043c");i(e.results)})).catch((function(e){return console.log(e)})).finally((function(){return x(!1)})))}),[N]),u?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(f,{onSubmit:F}),(0,h.jsx)("h2",{children:"\u0424\u0438\u043b\u044c\u043c\u043e\u0432 \u0441 \u0442\u0430\u043a\u0438\u043c \u0438\u043c\u0435\u043d\u0435\u043c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e :( "})]}):(0,h.jsxs)("div",{children:[(0,h.jsx)(f,{onSubmit:F}),b?(0,h.jsx)(_.a,{}):(0,h.jsx)("ul",{children:t.map((function(e){return(0,h.jsx)(d.Z,{movieId:e.id,movieTitle:e.title||e.name,isQueryName:!!N},"id-".concat(e.id))}))})]})}},565:function(e,r){var t={getMovieData:function(e){return fetch("https://api.themoviedb.org/3"+e+"api_key=7e2311f4f0ec2e3fb8119bae191edcda").then((function(e){if(!e.ok)throw new Error("\u041f\u043e\u0439\u043c\u0430\u043b\u0438 \u043e\u0448\u0438\u0431\u043a\u0443 API");return e.json()}))}};r.Z=t}}]);
//# sourceMappingURL=467.5bca0539.chunk.js.map
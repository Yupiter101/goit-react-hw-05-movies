(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[661],{8866:function(e,t,n){"use strict";n.d(t,{a:function(){return c}});var r=n(4691),o=n(5602),a=n(184),c=function(){return(0,a.jsx)("span",{className:o.Z.LoaderWrap,children:(0,a.jsx)(r.ko,{height:"140",width:"140",ariaLabel:"progress-bar-loading",wrapperStyle:{},wrapperClass:"progress-bar-wrapper",borderColor:"#F4442E",barColor:"#51E5FF"})})}},6661:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var r=n(9439),o=n(2791),a=n(7689),c=n(2007),i=n.n(c),s=n(184);function u(e){var t=e.author,n=e.content;return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("li",{children:[(0,s.jsxs)("h3",{children:["Author: ",t]}),(0,s.jsx)("p",{children:n})]})})}u.propType={author:i().string,content:i().string};var f=n(8565),h=n(8866);var p=function(){var e=(0,a.UO)(),t=(0,o.useState)([]),n=(0,r.Z)(t,2),c=n[0],i=n[1],p=(0,o.useState)(!1),l=(0,r.Z)(p,2),v=l[0],d=l[1],g=(0,o.useState)(!1),b=(0,r.Z)(g,2),y=b[0],m=b[1];return(0,o.useEffect)((function(){var t,n;t=e.movieId,n="reviews",d(!0),m(!1),f.Z.getSubDetalis(t,n).then((function(e){e.results.length||m(!0),i(e.results)})).catch((function(e){return console.log(e)})).finally((function(){return d(!1)}))}),[e.movieId]),v?(0,s.jsx)(h.a,{}):y?(0,s.jsx)("p",{children:"We do not have any revews for this movie"}):c.length?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("ul",{children:c.map((function(e,t){var n=e.author,r=e.content;return(0,s.jsx)(u,{author:n,content:r},"view-".concat(t))}))})}):void 0}},8565:function(e,t){"use strict";var n="https://api.themoviedb.org/3",r="api_key=7e2311f4f0ec2e3fb8119bae191edcda";var o={getAllMovies:function(){return fetch("https://api.themoviedb.org/3/trending/all/day?api_key=7e2311f4f0ec2e3fb8119bae191edcda").then((function(e){if(!e.ok)throw new Error("\u041f\u043e\u0439\u043c\u0430\u043b\u0438 \u043e\u0448\u0438\u0431\u043a\u0443 API");return e.json()}))},getMovieDetalis:function(e){var t="".concat(n,"/movie/").concat(e,"?").concat(r);return fetch(t).then((function(e){if(!e.ok)throw new Error("\u041f\u043e\u0439\u043c\u0430\u043b\u0438 \u043e\u0448\u0438\u0431\u043a\u0443 API");return e.json()}))},getSearchMovies:function(e){var t="".concat(n,"/search/movie?query=").concat(e,"&").concat(r);return fetch(t).then((function(e){if(!e.ok)throw new Error("\u041f\u043e\u0439\u043c\u0430\u043b\u0438 \u043e\u0448\u0438\u0431\u043a\u0443 API");return e.json()}))},getSubDetalis:function(e,t){var o="".concat(n,"/movie/").concat(e,"/").concat(t,"?").concat(r);return fetch(o).then((function(e){if(!e.ok)throw new Error("\u041f\u043e\u0439\u043c\u0430\u043b\u0438 \u043e\u0448\u0438\u0431\u043a\u0443 API");return e.json()}))}};t.Z=o},888:function(e,t,n){"use strict";var r=n(9047);function o(){}function a(){}a.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,a,c){if(c!==r){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:o};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}}]);
//# sourceMappingURL=661.fde9d4ab.chunk.js.map